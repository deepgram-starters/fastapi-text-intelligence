[meta]
title = "FastAPI Text Intelligence"
description = "Get started using Deepgram's Text Intelligence with this FastAPI demo app"
author = "Deepgram DX Team <devrel@deepgram.com> (https://developers.deepgram.com)"
repository = "https://github.com/deepgram-starters/fastapi-text-intelligence"
useCase = "text-intelligence"
language = "python"
framework = "fastapi"
sdk = "5.3.2"
tags = ["text-intelligence", "text-analysis", "nlp", "natural-language-processing", "python", "fastapi"]

[install.pre]
command = ["git submodule update --init --recursive", "python3 -m venv venv"]
message = "Submodules initialized and virtual environment created"

[install]
command = ["./venv/bin/pip install -r requirements.txt", "cd frontend && pnpm install"]
message = "Dependencies installed"

[install.config]
sample = "sample.env"
output = ".env"
[check]
command = ["git --version", "python3 --version", "pip3 --version"]

[start.pre]
command = "test -f .env || (echo '‚ùå .env not found' && exit 1)"

[start]
command = ["./venv/bin/python app.py", "cd frontend && corepack pnpm run dev -- --port 8080 --no-open"]
parallel = true

[clean]
command = ["rm -rf venv", "rm -rf frontend/node_modules", "rm -rf frontend/dist", "find . -type f -name '*.pyc' -delete", "find . -type d -name __pycache__ -exec rm -rf {} +"]
message = "Build artifacts cleaned"

# Eject frontend and contracts submodules for standalone development
[eject-frontend]
command = "make eject-frontend"
message = "Frontend ejected successfully"
